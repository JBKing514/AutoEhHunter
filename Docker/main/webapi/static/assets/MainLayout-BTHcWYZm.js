import{c as Qe,o as ve,w as R,a as me,s as P,b as V,d as G,C as _e,u as J,e as He,f as et,g as Ne,h as U,i as Pe,p as Ee,j as $e,k as ie,l as tt,m as ge,n as at,q as Me,r as he,t as lt,v as nt,x as ot,y as Ae,z as De,A as Y,B as p,D as u,V as Le,E as ne,F as O,T as it,G as _,H as fe,I as K,J as st,K as ut,L as Oe,M as rt,N as W,O as ye,P as ee,Q as ue,R as ct,S as be,U as Fe,W as Re,X as dt,Y as vt,Z as te,_ as ze,$ as H,a0 as z,a1 as x,a2 as L,a3 as q,a4 as pe,a5 as Q,a6 as se,a7 as F,a8 as re,a9 as ae,aa as qe,ab as mt,ac as Ue,ad as D,ae as gt,af as ht,ag as ft,ah as yt,ai as bt,aj as St,ak as wt,al as kt,am as oe,an as Ye,ao as Ct,ap as We,aq as xt,ar as de,as as Z,at as ce,au as Vt,av as pt,aw as Tt,ax as Bt,ay as It,az as Ht,aA as Nt,aB as Pt,aC as Et,aD as $t,aE as Mt,aF as r,aG as At}from"./index-DWWWBiwt.js";import{V as Dt}from"./VContainer-CzlBjVwz.js";const Lt=Qe("v-spacer","div","VSpacer");function Ot(e){let{rootEl:n,isSticky:a,layoutItemStyles:c}=e;const t=P(!1),l=P(0),i=V(()=>{const v=typeof t.value=="boolean"?"top":t.value;return[a.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[v]:G(l.value)}:{top:c.value.top}]});ve(()=>{R(a,v=>{v?window.addEventListener("scroll",S,{passive:!0}):window.removeEventListener("scroll",S)},{immediate:!0})}),me(()=>{window.removeEventListener("scroll",S)});let o=0;function S(){const v=o>window.scrollY?"up":"down",k=n.value.getBoundingClientRect(),m=parseFloat(c.value.top??0),y=window.scrollY-Math.max(0,l.value-m),w=k.height+Math.max(l.value,m)-window.scrollY-window.innerHeight,C=parseFloat(getComputedStyle(n.value).getPropertyValue("--v-body-scroll-y"))||0;k.height<window.innerHeight-m?(t.value="top",l.value=m):v==="up"&&t.value==="bottom"||v==="down"&&t.value==="top"?(l.value=window.scrollY+k.top-C,t.value=!0):v==="down"&&w<=0?(l.value=0,t.value="bottom"):v==="up"&&y<=0&&(C?t.value!=="top"&&(l.value=-y+C+m,t.value="top"):(l.value=k.top+y,t.value="top")),o=window.scrollY}return{isStuck:t,stickyStyles:i}}const Ft=100,Rt=20;function Te(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function Be(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let n=0;for(let a=e.length-1;a>0;a--){if(e[a].t===e[a-1].t)continue;const c=Te(n),t=(e[a].d-e[a-1].d)/(e[a].t-e[a-1].t);n+=(t-c)*Math.abs(t),a===e.length-1&&(n*=.5)}return Te(n)*1e3}function zt(){const e={};function n(t){Array.from(t.changedTouches).forEach(l=>{(e[l.identifier]??(e[l.identifier]=new _e(Rt))).push([t.timeStamp,l])})}function a(t){Array.from(t.changedTouches).forEach(l=>{delete e[l.identifier]})}function c(t){var v;const l=(v=e[t])==null?void 0:v.values().reverse();if(!l)throw new Error(`No samples for touch id ${t}`);const i=l[0],o=[],S=[];for(const k of l){if(i[0]-k[0]>Ft)break;o.push({t:k[0],d:k[1].clientX}),S.push({t:k[0],d:k[1].clientY})}return{x:Be(o),y:Be(S),get direction(){const{x:k,y:m}=this,[y,w]=[Math.abs(k),Math.abs(m)];return y>w&&k>=0?"right":y>w&&k<=0?"left":w>y&&m>=0?"down":w>y&&m<=0?"up":qt()}}}return{addMovement:n,endTouch:a,getVelocity:c}}function qt(){throw new Error}function Ut(e){let{el:n,isActive:a,isTemporary:c,width:t,touchless:l,position:i}=e;ve(()=>{window.addEventListener("touchstart",B,{passive:!0}),window.addEventListener("touchmove",E,{passive:!1}),window.addEventListener("touchend",M,{passive:!0})}),me(()=>{window.removeEventListener("touchstart",B),window.removeEventListener("touchmove",E),window.removeEventListener("touchend",M)});const o=V(()=>["left","right"].includes(i.value)),{addMovement:S,endTouch:v,getVelocity:k}=zt();let m=!1;const y=P(!1),w=P(0),C=P(0);let b;function $(s,d){return(i.value==="left"?s:i.value==="right"?document.documentElement.clientWidth-s:i.value==="top"?s:i.value==="bottom"?document.documentElement.clientHeight-s:j())-(d?t.value:0)}function N(s){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const h=i.value==="left"?(s-C.value)/t.value:i.value==="right"?(document.documentElement.clientWidth-s-C.value)/t.value:i.value==="top"?(s-C.value)/t.value:i.value==="bottom"?(document.documentElement.clientHeight-s-C.value)/t.value:j();return d?Ne(h):h}function B(s){if(l.value)return;const d=s.changedTouches[0].clientX,h=s.changedTouches[0].clientY,g=25,T=i.value==="left"?d<g:i.value==="right"?d>document.documentElement.clientWidth-g:i.value==="top"?h<g:i.value==="bottom"?h>document.documentElement.clientHeight-g:j(),I=a.value&&(i.value==="left"?d<t.value:i.value==="right"?d>document.documentElement.clientWidth-t.value:i.value==="top"?h<t.value:i.value==="bottom"?h>document.documentElement.clientHeight-t.value:j());(T||I||a.value&&c.value)&&(b=[d,h],C.value=$(o.value?d:h,a.value),w.value=N(o.value?d:h),m=C.value>-20&&C.value<80,v(s),S(s))}function E(s){const d=s.changedTouches[0].clientX,h=s.changedTouches[0].clientY;if(m){if(!s.cancelable){m=!1;return}const T=Math.abs(d-b[0]),I=Math.abs(h-b[1]);(o.value?T>I&&T>3:I>T&&I>3)?(y.value=!0,m=!1):(o.value?I:T)>3&&(m=!1)}if(!y.value)return;s.preventDefault(),S(s);const g=N(o.value?d:h,!1);w.value=Math.max(0,Math.min(1,g)),g>1?C.value=$(o.value?d:h,!0):g<0&&(C.value=$(o.value?d:h,!1))}function M(s){if(m=!1,!y.value)return;S(s),y.value=!1;const d=k(s.changedTouches[0].identifier),h=Math.abs(d.x),g=Math.abs(d.y);(o.value?h>g&&h>400:g>h&&g>3)?a.value=d.direction===({left:"right",right:"left",top:"down",bottom:"up"}[i.value]||j()):a.value=w.value>.5}const f=V(()=>y.value?{transform:i.value==="left"?`translateX(calc(-100% + ${w.value*t.value}px))`:i.value==="right"?`translateX(calc(100% - ${w.value*t.value}px))`:i.value==="top"?`translateY(calc(-100% + ${w.value*t.value}px))`:i.value==="bottom"?`translateY(calc(100% - ${w.value*t.value}px))`:j(),transition:"none"}:void 0);return J(y,()=>{var h,g;const s=((h=n.value)==null?void 0:h.style.transform)??null,d=((g=n.value)==null?void 0:g.style.transition)??null;He(()=>{var T,I,X,le;(I=n.value)==null||I.style.setProperty("transform",((T=f.value)==null?void 0:T.transform)||"none"),(le=n.value)==null||le.style.setProperty("transition",((X=f.value)==null?void 0:X.transition)||null)}),et(()=>{var T,I;(T=n.value)==null||T.style.setProperty("transform",s),(I=n.value)==null||I.style.setProperty("transition",d)})}),{isDragging:y,dragProgress:w,dragStyles:f}}function j(){throw new Error}const Yt=["start","end","left","right","top","bottom"],Wt=W({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Yt.includes(e)},sticky:Boolean,...ze(),...te(),...vt(),...dt({mobile:null}),...Re(),...Fe(),...be(),...ue(ct(),["disableInitialFocus"]),...ee({tag:"nav"}),...ye()},"VNavigationDrawer"),Xt=U()({name:"VNavigationDrawer",props:Wt(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,n){let{attrs:a,emit:c,slots:t}=n;const{isRtl:l}=Pe(),{themeClasses:i}=Ee(e),{borderClasses:o}=$e(e),{backgroundColorClasses:S,backgroundColorStyles:v}=ie(()=>e.color),{elevationClasses:k}=Oe(e),{displayClasses:m,mobile:y}=tt(e),{roundedClasses:w}=ge(e),C=at(),b=Me(e,"modelValue",null,A=>!!A),{ssrBootStyles:$}=he(),{scopeId:N}=lt(),B=fe(),E=P(!1),{runOpenDelay:M,runCloseDelay:f}=rt(e,A=>{E.value=A}),s=V(()=>e.rail&&e.expandOnHover&&E.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),d=V(()=>ut(e.location,l.value)),h=K(()=>e.persistent),g=V(()=>!e.permanent&&(y.value||e.temporary)),T=V(()=>e.sticky&&!g.value&&d.value!=="bottom");nt(e,{isActive:b,localTop:g,contentEl:B}),J(()=>e.expandOnHover&&e.rail!=null,()=>{R(E,A=>c("update:rail",!A))}),J(()=>!e.disableResizeWatcher,()=>{R(g,A=>!e.permanent&&ot(()=>b.value=!A))}),J(()=>!e.disableRouteWatcher&&!!C,()=>{R(C.currentRoute,()=>g.value&&(b.value=!1))}),R(()=>e.permanent,A=>{A&&(b.value=!0)}),e.modelValue==null&&!g.value&&(b.value=e.permanent||!y.value);const{isDragging:I,dragProgress:X}=Ut({el:B,isActive:b,isTemporary:g,width:s,touchless:K(()=>e.touchless),position:d}),le=V(()=>{const A=g.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):s.value;return I.value?A*X.value:A}),{layoutItemStyles:Se,layoutItemScrimStyles:Ge}=Ae({id:e.name,order:V(()=>parseInt(e.order,10)),position:d,layoutSize:le,elementSize:s,active:st(b),disableTransitions:K(()=>I.value),absolute:V(()=>e.absolute||T.value&&typeof we.value!="string")}),{isStuck:we,stickyStyles:Ze}=Ot({rootEl:B,isSticky:T,layoutItemStyles:Se}),ke=ie(()=>typeof e.scrim=="string"?e.scrim:null),Je=V(()=>({...I.value?{opacity:X.value*.2,transition:"none"}:void 0,...Ge.value}));return De({VList:{bgColor:"transparent"}}),Y(()=>{const A=t.image||e.image;return p(_,null,[u(e.tag,O({ref:B,onMouseenter:M,onMouseleave:f,class:["v-navigation-drawer",`v-navigation-drawer--${d.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":E.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":g.value,"v-navigation-drawer--persistent":h.value,"v-navigation-drawer--active":b.value,"v-navigation-drawer--sticky":T.value},i.value,S.value,o.value,m.value,k.value,w.value,e.class],style:[v.value,Se.value,$.value,Ze.value,e.style],inert:!b.value},N,a),{default:()=>{var Ce,xe,Ve;return[A&&p("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?u(ne,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},t.image):u(Le,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),t.prepend&&p("div",{class:"v-navigation-drawer__prepend"},[(Ce=t.prepend)==null?void 0:Ce.call(t)]),p("div",{class:"v-navigation-drawer__content"},[(xe=t.default)==null?void 0:xe.call(t)]),t.append&&p("div",{class:"v-navigation-drawer__append"},[(Ve=t.append)==null?void 0:Ve.call(t)])]}}),u(it,{name:"fade-transition"},{default:()=>[g.value&&(I.value||b.value)&&!!e.scrim&&p("div",O({class:["v-navigation-drawer__scrim",ke.backgroundColorClasses.value],style:[Je.value,ke.backgroundColorStyles.value],onClick:()=>{h.value||(b.value=!1)}},N),null)]})])}),{isStuck:we}}}),jt={class:"drawer-brand px-4 py-4"},Kt=["src"],Gt={key:0,class:"brand-title"},Zt={__name:"AppSidebar",props:{modelValue:{type:Boolean,default:!0},rail:{type:Boolean,default:!1},brandLogo:{type:String,default:""},navItems:{type:Array,default:()=>[]},tab:{type:String,default:"dashboard"},t:{type:Function,required:!0}},emits:["update:modelValue","update:rail","go-tab"],setup(e,{emit:n}){const a=n;return(c,t)=>(H(),z(Xt,{"model-value":e.modelValue,rail:e.rail,permanent:"",border:"","onUpdate:modelValue":t[1]||(t[1]=l=>a("update:modelValue",l))},{append:x(()=>[u(pe),u(Q,{density:"compact"},{default:x(()=>[u(F,{title:e.t("nav.compact"),"prepend-icon":"mdi-dock-left",onClick:t[0]||(t[0]=l=>a("update:rail",!e.rail))},null,8,["title"])]),_:1})]),default:x(()=>[p("div",jt,[p("img",{src:e.brandLogo,alt:"AutoEhHunter",class:"brand-logo"},null,8,Kt),e.rail?q("",!0):(H(),L("div",Gt,"AutoEhHunter"))]),u(pe),u(Q,{nav:"",density:"comfortable"},{default:x(()=>[(H(!0),L(_,null,se(e.navItems,l=>(H(),z(F,{key:l.key,active:e.tab===l.key,"prepend-icon":l.icon,title:e.t(l.title),onClick:i=>a("go-tab",l.key)},null,8,["active","prepend-icon","title","onClick"]))),128))]),_:1})]),_:1},8,["model-value","rail"]))}},Xe=W({text:String,...te(),...ee()},"VToolbarTitle"),je=U()({name:"VToolbarTitle",props:Xe(),setup(e,n){let{slots:a}=n;return Y(()=>{const c=!!(a.default||a.text||e.text);return u(e.tag,{class:ae(["v-toolbar-title",e.class]),style:re(e.style)},{default:()=>{var t;return[c&&p("div",{class:"v-toolbar-title__placeholder"},[a.text?a.text():e.text,(t=a.default)==null?void 0:t.call(a)])]}})}),{}}}),Jt=[null,"prominent","default","comfortable","compact"],Ke=W({absolute:Boolean,collapse:Boolean,collapsePosition:{type:String,default:"start"},color:String,density:{type:String,default:"default",validator:e=>Jt.includes(e)},extended:{type:Boolean,default:null},extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...ze(),...te(),...Re(),...Ue(),...be(),...ee({tag:"header"}),...ye()},"VToolbar"),Ie=U()({name:"VToolbar",props:Ke(),setup(e,n){var C;let{slots:a}=n;const{backgroundColorClasses:c,backgroundColorStyles:t}=ie(()=>e.color),{borderClasses:l}=$e(e),{elevationClasses:i}=Oe(e),{locationStyles:o}=qe(e),{roundedClasses:S}=ge(e),{themeClasses:v}=Ee(e),{rtlClasses:k}=Pe(),m=P(e.extended===null?!!((C=a.extension)!=null&&C.call(a)):e.extended),y=V(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),w=V(()=>m.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return De({VBtn:{variant:"text"}}),Y(()=>{var B;const b=!!(e.title||a.title),$=!!(a.image||e.image),N=(B=a.extension)==null?void 0:B.call(a);return m.value=e.extended===null?!!N:e.extended,u(e.tag,{class:ae(["v-toolbar",`v-toolbar--collapse-${e.collapsePosition}`,{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},c.value,l.value,i.value,S.value,v.value,k.value,e.class]),style:re([t.value,o.value,e.style])},{default:()=>[$&&p("div",{key:"image",class:"v-toolbar__image"},[a.image?u(ne,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},a.image):u(Le,{key:"image-img",cover:!0,src:e.image},null)]),u(ne,{defaults:{VTabs:{height:G(y.value)}}},{default:()=>{var E,M,f;return[p("div",{class:"v-toolbar__content",style:{height:G(y.value)}},[a.prepend&&p("div",{class:"v-toolbar__prepend"},[(E=a.prepend)==null?void 0:E.call(a)]),b&&u(je,{key:"title",text:e.title},{text:a.title}),(M=a.default)==null?void 0:M.call(a),a.append&&p("div",{class:"v-toolbar__append"},[(f=a.append)==null?void 0:f.call(a)])])]}}),u(ne,{defaults:{VTabs:{height:G(w.value)}}},{default:()=>[u(mt,null,{default:()=>[m.value&&p("div",{class:"v-toolbar__extension",style:{height:G(w.value)}},[N])]})]})]})}),{contentHeight:y,extensionHeight:w}}}),Qt=W({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function _t(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:a,layoutSize:c}=n;let t=0,l=0;const i=fe(null),o=P(0),S=P(0),v=P(0),k=P(!1),m=P(!1),y=P(!1),w=P(!1),C=P(!0),b=V(()=>Number(e.scrollThreshold)),$=V(()=>Ne((b.value-o.value)/b.value||0));function N(f){const s="window"in f?window.innerHeight:f.clientHeight,d="window"in f?document.documentElement.scrollHeight:f.scrollHeight;return{clientHeight:s,scrollHeight:d}}function B(){const f=i.value;if(!f)return;const{clientHeight:s,scrollHeight:d}=N(f),h=d-s,g=(c==null?void 0:c.value)||0,T=b.value+g;C.value=h>T}function E(){B()}function M(){const f=i.value;if(!f||a&&!a.value)return;t=o.value,o.value="window"in f?f.pageYOffset:f.scrollTop;const s=f instanceof Window?document.documentElement.scrollHeight:f.scrollHeight;l!==s&&(s>l&&B(),l=s),m.value=o.value<t,v.value=Math.abs(o.value-b.value);const{clientHeight:d,scrollHeight:h}=N(f),g=o.value+d>=h-5;!m.value&&g&&o.value>=b.value&&C.value&&(w.value=!0);const T=Math.abs(o.value-t)>100,I=o.value<=5;(m.value&&t-o.value>1&&!g||T&&o.value<b.value||I)&&(w.value=!1),y.value=g}return R(m,()=>{S.value=S.value||o.value}),R(k,()=>{S.value=0}),ve(()=>{R(()=>e.scrollTarget,f=>{var d;const s=f?document.querySelector(f):window;s&&s!==i.value&&((d=i.value)==null||d.removeEventListener("scroll",M),i.value=s,i.value.addEventListener("scroll",M,{passive:!0}),Promise.resolve().then(()=>{B()}))},{immediate:!0}),window.addEventListener("resize",E,{passive:!0})}),me(()=>{var f;(f=i.value)==null||f.removeEventListener("scroll",M),window.removeEventListener("resize",E)}),a&&R(a,M,{immediate:!0}),{scrollThreshold:b,currentScroll:o,currentThreshold:v,isScrollActive:k,scrollRatio:$,isScrollingUp:m,savedScroll:S,isAtBottom:y,reachedBottomWhileScrollingDown:w,hasEnoughScrollableSpace:C}}const ea=W({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...ue(Ke(),["location"]),...Fe(),...Qt(),height:{type:[Number,String],default:64}},"VAppBar"),ta=U()({name:"VAppBar",props:ea(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:a}=n;const c=fe(),t=Me(e,"modelValue"),l=V(()=>{var d;const s=new Set(((d=e.scrollBehavior)==null?void 0:d.split(" "))??[]);return{hide:s.has("hide"),fullyHide:s.has("fully-hide"),inverted:s.has("inverted"),collapse:s.has("collapse"),elevate:s.has("elevate"),fadeImage:s.has("fade-image")}}),i=V(()=>{const s=l.value;return s.hide||s.fullyHide||s.inverted||s.collapse||s.elevate||s.fadeImage||!t.value}),o=V(()=>{var h,g;const s=((h=c.value)==null?void 0:h.contentHeight)??0,d=((g=c.value)==null?void 0:g.extensionHeight)??0;return s+d}),{currentScroll:S,scrollThreshold:v,isScrollingUp:k,scrollRatio:m,isAtBottom:y,reachedBottomWhileScrollingDown:w,hasEnoughScrollableSpace:C}=_t(e,{canScroll:i,layoutSize:o}),b=K(()=>l.value.hide||l.value.fullyHide),$=V(()=>e.collapse||l.value.collapse&&(l.value.inverted?m.value>0:m.value===0)),N=V(()=>e.flat||l.value.fullyHide&&!t.value||l.value.elevate&&(l.value.inverted?S.value>0:S.value===0)),B=V(()=>l.value.fadeImage?l.value.inverted?1-m.value:m.value:void 0),E=V(()=>{var h,g;if(l.value.hide&&l.value.inverted)return 0;const s=((h=c.value)==null?void 0:h.contentHeight)??0,d=((g=c.value)==null?void 0:g.extensionHeight)??0;return b.value?S.value<v.value||l.value.fullyHide?s+d:s:s+d});J(()=>!!e.scrollBehavior,()=>{He(()=>{if(!b.value){t.value=!0;return}if(l.value.inverted){t.value=S.value>v.value;return}if(!C.value){t.value=!0;return}if(w.value){t.value=!1;return}t.value=k.value&&!y.value||S.value<v.value})});const{ssrBootStyles:M}=he(),{layoutItemStyles:f}=Ae({id:e.name,order:V(()=>parseInt(e.order,10)),position:K(()=>e.location),layoutSize:E,elementSize:P(void 0),active:t,absolute:K(()=>e.absolute)});return Y(()=>{const s=ue(Ie.filterProps(e),["location"]);return u(Ie,O({ref:c,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...f.value,"--v-toolbar-image-opacity":B.value,height:void 0,...M.value},e.style]},s,{collapse:$.value,flat:N.value}),a)}),{}}}),aa=W({...ue(gt({icon:"$menu",variant:"text"}),["spaced"])},"VAppBarNavIcon"),la=U()({name:"VAppBarNavIcon",props:aa(),setup(e,n){let{slots:a}=n;return Y(()=>u(D,O(e,{class:["v-app-bar-nav-icon"]}),a)),{}}}),na=U()({name:"VAppBarTitle",props:Xe(),setup(e,n){let{slots:a}=n;return Y(()=>u(je,O(e,{class:"v-app-bar-title"}),a)),{}}}),oa=W({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:Ct,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...te(),...Ue({location:"top end"}),...be(),...ee(),...ye(),...xt({transition:"scale-rotate-transition"}),...We()},"VBadge"),ia=U()({name:"VBadge",inheritAttrs:!1,props:oa(),setup(e,n){const{backgroundColorClasses:a,backgroundColorStyles:c}=ie(()=>e.color),{roundedClasses:t}=ge(e),{t:l}=ht(),{textColorClasses:i,textColorStyles:o}=ft(()=>e.textColor),{themeClasses:S}=yt(),{locationStyles:v}=qe(e,!0,m=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(m)?Number(e.offsetY??0):["left","right"].includes(m)?Number(e.offsetX??0):0)),{dimensionStyles:k}=Ye(e);return Y(()=>{const m=Number(e.content),y=!e.max||isNaN(m)?e.content:m<=Number(e.max)?m:`${e.max}+`,[w,C]=bt(n.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return u(e.tag,O({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},C,{style:e.style}),{default:()=>{var b,$;return[p("div",{class:"v-badge__wrapper"},[($=(b=n.slots).default)==null?void 0:$.call(b),u(St,{transition:e.transition},{default:()=>{var N,B;return[wt(p("span",O({class:["v-badge__badge",S.value,a.value,t.value,i.value],style:[c.value,o.value,k.value,e.inline?{}:v.value],"aria-atomic":"true","aria-label":l(e.label,m),"aria-live":"polite",role:"status"},w),[e.dot?void 0:n.slots.badge?(B=(N=n.slots).badge)==null?void 0:B.call(N):e.icon?u(oe,{icon:e.icon},null):y]),[[kt,e.modelValue]])]}})])]}})}),{}}}),sa={__name:"AppTopBar",props:{currentTitleKey:{type:String,required:!0},themeModeIcon:{type:String,required:!0},langOptions:{type:Array,default:()=>[]},lang:{type:String,default:"zh"},notices:{type:Array,default:()=>[]},authUser:{type:Object,default:()=>({})},t:{type:Function,required:!0}},emits:["toggle-drawer","cycle-theme","update:lang","dismiss-notice","clear-all-notices","go-settings","logout"],setup(e,{emit:n}){const a=n;return(c,t)=>(H(),z(ta,{flat:"",color:"surface"},{default:x(()=>[u(la,{onClick:t[0]||(t[0]=l=>a("toggle-drawer"))}),u(na,{class:"font-weight-bold"},{default:x(()=>[de(Z(e.t(e.currentTitleKey)),1)]),_:1}),u(Lt),u(D,{icon:e.themeModeIcon,variant:"text",onClick:t[1]||(t[1]=l=>a("cycle-theme"))},null,8,["icon"]),u(ce,{location:"bottom end"},{activator:x(({props:l})=>[u(D,O(l,{icon:"mdi-earth",variant:"text"}),null,16)]),default:x(()=>[u(Q,{density:"compact","min-width":"160"},{default:x(()=>[(H(!0),L(_,null,se(e.langOptions,l=>(H(),z(F,{key:l.value,title:l.title,active:e.lang===l.value,onClick:i=>a("update:lang",l.value)},null,8,["title","active","onClick"]))),128))]),_:1})]),_:1}),u(ce,{location:"bottom end"},{activator:x(({props:l})=>[u(ia,{content:String(e.notices.length),"model-value":e.notices.length>0,color:"error",inline:""},{default:x(()=>[u(D,O(l,{icon:"mdi-bell-outline",variant:"text"}),null,16)]),_:2},1032,["content","model-value"])]),default:x(()=>[u(Q,{density:"compact","min-width":"360",class:"notice-list"},{default:x(()=>[(H(!0),L(_,null,se(e.notices,l=>(H(),z(F,{key:l.id,title:l.title,subtitle:l.text},{append:x(()=>[u(D,{size:"x-small",variant:"text",icon:"mdi-close",onClick:i=>a("dismiss-notice",l.id)},null,8,["onClick"])]),_:2},1032,["title","subtitle"]))),128)),e.notices.length?q("",!0):(H(),z(F,{key:0,title:e.t("notice.empty")},null,8,["title"])),e.notices.length?(H(),z(F,{key:1,title:e.t("notice.clear_all"),onClick:t[2]||(t[2]=l=>a("clear-all-notices"))},null,8,["title"])):q("",!0)]),_:1})]),_:1}),u(ce,{location:"bottom end"},{activator:x(({props:l})=>[u(D,O(l,{icon:"mdi-account-circle-outline",variant:"text"}),null,16)]),default:x(()=>[u(Q,{density:"compact","min-width":"180"},{default:x(()=>[u(F,{title:e.authUser.username||"-"},{prepend:x(()=>[u(oe,{icon:"mdi-account"})]),_:1},8,["title"]),u(F,{title:e.t("auth.menu.edit_profile"),onClick:t[3]||(t[3]=l=>a("go-settings"))},{prepend:x(()=>[u(oe,{icon:"mdi-account-cog-outline"})]),_:1},8,["title"]),u(F,{title:e.t("auth.menu.logout"),onClick:t[4]||(t[4]=l=>a("logout"))},{prepend:x(()=>[u(oe,{icon:"mdi-logout"})]),_:1},8,["title"])]),_:1})]),_:1})]),_:1}))}},ua={key:0,class:"chat-fab-wrap"},ra={class:"d-flex align-center justify-space-between mb-2"},ca={class:"text-subtitle-2"},da={class:"chat-fab-log mb-2"},va={class:"text-caption"},ma={key:0,class:"d-flex ga-2 align-center mb-2"},ga={class:"d-flex ga-2 align-center"},ha={__name:"ChatFabPanel",props:{llmReady:{type:Boolean,default:!1},tab:{type:String,default:"dashboard"},chatFabOpen:{type:Boolean,default:!1},activeChatSession:{type:Object,default:null},chatImageFile:{type:Object,default:null},chatInput:{type:String,default:""},chatIntent:{type:String,default:"auto"},chatIntentOptions:{type:Array,default:()=>[]},chatSending:{type:Boolean,default:!1},t:{type:Function,required:!0}},emits:["toggle-open","close","clear-chat-image","trigger-chat-image-pick","update:chatInput","update:chatIntent","send-chat"],setup(e,{emit:n}){const a=n;return(c,t)=>e.llmReady&&e.tab!=="chat"?(H(),L("div",ua,[u(D,{color:"primary",icon:"mdi-chat",size:"large",class:"chat-fab",onClick:t[0]||(t[0]=l=>a("toggle-open"))}),e.chatFabOpen?(H(),z(It,{key:0,class:"chat-fab-panel pa-3",variant:"flat"},{default:x(()=>{var l;return[p("div",ra,[p("div",ca,Z(e.t("chat.fab.title")),1),u(D,{size:"x-small",icon:"mdi-close",variant:"text",onClick:t[1]||(t[1]=i=>a("close"))})]),p("div",da,[(H(!0),L(_,null,se((((l=e.activeChatSession)==null?void 0:l.messages)||[]).slice(-6),(i,o)=>(H(),L("div",{key:`fab-${o}-${i.time||""}`,class:ae(["chat-bubble mini",i.role==="assistant"?"assistant":"user"])},[p("div",va,Z(i.text),1)],2))),128))]),e.chatImageFile?(H(),L("div",ma,[u(Vt,{size:"small",color:"secondary",variant:"tonal","prepend-icon":"mdi-image"},{default:x(()=>[de(Z(e.chatImageFile.name),1)]),_:1}),u(D,{size:"x-small",variant:"text",icon:"mdi-close",onClick:t[2]||(t[2]=i=>a("clear-chat-image"))})])):q("",!0),p("div",ga,[u(D,{icon:"mdi-image-plus",size:"small",variant:"text",onClick:t[3]||(t[3]=i=>a("trigger-chat-image-pick"))}),u(pt,{"model-value":e.chatInput,"hide-details":"",density:"compact",label:e.t("chat.input"),variant:"outlined","onUpdate:modelValue":t[4]||(t[4]=i=>a("update:chatInput",i)),onKeyup:t[5]||(t[5]=Tt(i=>a("send-chat"),["enter"]))},null,8,["model-value","label"]),u(Bt,{"model-value":e.chatIntent,items:e.chatIntentOptions,"item-title":"title","item-value":"value",density:"compact","hide-details":"",style:{"max-width":"150px"},"onUpdate:modelValue":t[6]||(t[6]=i=>a("update:chatIntent",i))},null,8,["model-value","items"]),u(D,{size:"small",loading:e.chatSending,color:"primary",onClick:t[7]||(t[7]=i=>a("send-chat"))},{default:x(()=>[de(Z(e.t("chat.send")),1)]),_:1},8,["loading"])])]}),_:1})):q("",!0)])):q("",!0)}},fa=W({scrollable:Boolean,...te(),...We(),...ee({tag:"main"})},"VMain"),ya=U()({name:"VMain",props:fa(),setup(e,n){let{slots:a}=n;const{dimensionStyles:c}=Ye(e),{mainStyles:t}=Ht(),{ssrBootStyles:l}=he();return Y(()=>u(e.tag,{class:ae(["v-main",{"v-main--scrollable":e.scrollable},e.class]),style:re([t.value,l.value,c.value,e.style])},{default:()=>{var i,o;return[e.scrollable?p("div",{class:"v-main__scroller"},[(i=a.default)==null?void 0:i.call(a)]):(o=a.default)==null?void 0:o.call(a)]}})),{}}}),ba={key:0},ka={__name:"MainLayout",setup(e){const n=Nt(),a=Pt(),c=Et(),t=$t(),l=Mt();return(i,o)=>{const S=At("RouterView");return r(n).t?(H(),L("div",ba,[u(Zt,{"model-value":r(n).drawer,rail:r(n).rail,"brand-logo":r(n).brandLogo,"nav-items":r(n).navItems,tab:r(n).tab,t:r(n).t,"onUpdate:modelValue":o[0]||(o[0]=v=>r(n).drawer=v),"onUpdate:rail":o[1]||(o[1]=v=>r(n).rail=v),onGoTab:r(n).goTab},null,8,["model-value","rail","brand-logo","nav-items","tab","t","onGoTab"]),u(sa,{"current-title-key":r(n).currentTitleKey,"theme-mode-icon":r(n).themeModeIcon,"lang-options":r(n).langOptions,lang:r(n).lang,notices:r(n).notices,"auth-user":r(l).authUser,t:r(n).t,onToggleDrawer:o[2]||(o[2]=v=>r(n).drawer=!r(n).drawer),onCycleTheme:r(n).cycleThemeMode,"onUpdate:lang":o[3]||(o[3]=v=>r(n).setLangValue(v)),onDismissNotice:r(n).dismissNotice,onClearAllNotices:r(n).clearAllNotices,onGoSettings:o[4]||(o[4]=v=>r(n).goTab("settings")),onLogout:r(n).logoutNow},null,8,["current-title-key","theme-mode-icon","lang-options","lang","notices","auth-user","t","onCycleTheme","onDismissNotice","onClearAllNotices","onLogout"]),u(ya,null,{default:x(()=>[u(Dt,{fluid:"",class:ae(["pa-6",r(n).tab==="chat"?"chat-page-container":""])},{default:x(()=>[u(S)]),_:1},8,["class"])]),_:1}),r(n).tab==="dashboard"&&r(a).showScrollQuickActions?(H(),L("div",{key:0,class:"quick-fab-wrap",style:re(r(a).quickFabStyle)},[u(D,{color:"secondary",icon:"mdi-magnify",size:"large",class:"quick-fab",onClick:o[5]||(o[5]=v=>r(a).quickSearchOpen=!0)}),u(D,{color:"info",icon:"mdi-filter-variant",size:"large",class:"quick-fab",onClick:o[6]||(o[6]=v=>r(a).homeFiltersOpen=!0)}),u(D,{color:"primary",icon:"mdi-arrow-up",size:"large",class:"quick-fab",onClick:r(a).scrollToTop},null,8,["onClick"])],4)):q("",!0),u(ha,{"llm-ready":r(t).llmReady,tab:r(n).tab,"chat-fab-open":r(c).chatFabOpen,"active-chat-session":r(c).activeChatSession,"chat-image-file":r(c).chatImageFile,"chat-input":r(c).chatInput,"chat-intent":r(c).chatIntent,"chat-intent-options":r(c).chatIntentOptions,"chat-sending":r(c).chatSending,t:r(n).t,onToggleOpen:o[7]||(o[7]=v=>r(c).chatFabOpen=!r(c).chatFabOpen),onClose:o[8]||(o[8]=v=>r(c).chatFabOpen=!1),onClearChatImage:r(c).clearChatImage,onTriggerChatImagePick:r(c).triggerChatImagePick,"onUpdate:chatInput":o[9]||(o[9]=v=>r(c).chatInput=v),"onUpdate:chatIntent":o[10]||(o[10]=v=>r(c).chatIntent=v),onSendChat:o[11]||(o[11]=v=>r(c).sendChat("chat"))},null,8,["llm-ready","tab","chat-fab-open","active-chat-session","chat-image-file","chat-input","chat-intent","chat-intent-options","chat-sending","t","onClearChatImage","onTriggerChatImagePick"])])):q("",!0)}}};export{ka as default};
